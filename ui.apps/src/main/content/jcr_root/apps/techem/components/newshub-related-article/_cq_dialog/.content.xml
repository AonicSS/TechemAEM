<?xml version="1.0" encoding="UTF-8"?>
<jcr:root
    xmlns:sling="http://sling.apache.org/jcr/sling/1.0"
    xmlns:cq="http://www.day.com/jcr/cq/1.0"
    xmlns:jcr="http://www.jcp.org/jcr/1.0"
    xmlns:nt="http://www.jcp.org/jcr/nt/1.0"
    xmlns:granite="http://www.adobe.com/jcr/granite/1.0"
    jcr:primaryType="nt:unstructured"
    jcr:title="Newshub Related Article Component"
    extraClientlibs="[techem.validator.multifield.minmax]"
    sling:resourceType="cq/gui/components/authoring/dialog">
    <content
        jcr:primaryType="nt:unstructured"
        sling:resourceType="granite/ui/components/coral/foundation/container">
        <items jcr:primaryType="nt:unstructured">
            <tabs
                jcr:primaryType="nt:unstructured"
                sling:resourceType="granite/ui/components/coral/foundation/tabs"
                maximized="{Boolean}true">
                <items jcr:primaryType="nt:unstructured">
                    <container
                        jcr:primaryType="nt:unstructured"
                        sling:resourceType="granite/ui/components/coral/foundation/container"
                        margin="{Boolean}true">
                        <items jcr:primaryType="nt:unstructured">
                            <columns
                                jcr:primaryType="nt:unstructured"
                                sling:resourceType="granite/ui/components/coral/foundation/fixedcolumns"
                                margin="{Boolean}true">
                                <items jcr:primaryType="nt:unstructured">
                                    <column
                                        jcr:primaryType="nt:unstructured"
                                        sling:resourceType="granite/ui/components/coral/foundation/container">
                                        <items jcr:primaryType="nt:unstructured">
                                            <manualorautomatically
                                                    granite:class="cq-dialog-dropdown-showhide"
                                                    jcr:primaryType="nt:unstructured"
                                                    sling:resourceType="granite/ui/components/coral/foundation/form/select"
                                                    fieldDescription="Add articles manually or automatically filtered"
                                                    fieldLabel="Add articles"
                                                    name="./insertionType">
                                                <items jcr:primaryType="nt:unstructured">
                                                    <manually
                                                            jcr:primaryType="nt:unstructured"
                                                            text="Manually"
                                                            value="manually"/>
                                                    <automatically
                                                            jcr:primaryType="nt:unstructured"
                                                            text="Automatically"
                                                            value="automatically"/>
                                                </items>
                                                <granite:data
                                                        jcr:primaryType="nt:unstructured"
                                                        cq-dialog-dropdown-showhide-target=".articles-showhide-target"/>
                                            </manualorautomatically>
                                            <manually
                                                    granite:class="articles-showhide-target"
                                                    jcr:primaryType="nt:unstructured"
                                                    sling:resourceType="granite/ui/components/coral/foundation/container">
                                                <items jcr:primaryType="nt:unstructured">
                                                    <multi
                                                            jcr:primaryType="nt:unstructured"
                                                            sling:resourceType="granite/ui/components/coral/foundation/form/multifield"
                                                            composite="{Boolean}true"
                                                            required="{Boolean}true"
                                                            validation="techem-validate-multifield"
                                                            fieldLabel="Add articles">
                                                    <granite:data
                                                            jcr:primaryType="nt:unstructured"
                                                            min="1"
                                                            max="3"/>
                                                        <field
                                                                jcr:primaryType="nt:unstructured"
                                                                sling:resourceType="granite/ui/components/coral/foundation/container"
                                                                name="./articleListManually">
                                                            <items jcr:primaryType="nt:unstructured">
                                                                <column
                                                                        jcr:primaryType="nt:unstructured"
                                                                        sling:resourceType="granite/ui/components/coral/foundation/container">
                                                                    <items jcr:primaryType="nt:unstructured">
                                                                        <subHeadline
                                                                            jcr:primaryType="nt:unstructured"
                                                                            sling:resourceType="granite/ui/components/coral/foundation/form/textfield"
                                                                            fieldLabel="Sub-Headline"
                                                                            maxlength="{Long}400"
                                                                            name="./subHeadline" />
                                                                        <headline
                                                                            jcr:primaryType="nt:unstructured"
                                                                            sling:resourceType="granite/ui/components/coral/foundation/form/textfield"
                                                                            fieldLabel="Headline"
                                                                            maxlength="{Long}400"
                                                                            name="./headline" />
                                                                        <articleTeaser
                                                                            jcr:primaryType="nt:unstructured"
                                                                            sling:resourceType="cq/gui/components/authoring/dialog/richtext"
                                                                            fieldDescription="Add article teaser text"
                                                                            fieldLabel="Article Teaser Text"
                                                                            required="{Boolean}true"
                                                                            name="./text"
                                                                            useFixedInlineToolbar="{Boolean}true">
                                                                            <rtePlugins jcr:primaryType="nt:unstructured">
                                                                                <format
                                                                                    jcr:primaryType="nt:unstructured"
                                                                                    features="*" />
                                                                                <justify
                                                                                    jcr:primaryType="nt:unstructured"
                                                                                    features="*" />
                                                                                <lists
                                                                                    jcr:primaryType="nt:unstructured"
                                                                                    features="*" />
                                                                                <paraformat
                                                                                    jcr:primaryType="nt:unstructured"
                                                                                    features="*" />
                                                                                <links
                                                                                    jcr:primaryType="nt:unstructured"
                                                                                    features="*" />
                                                                                <image
                                                                                    jcr:primaryType="nt:unstructured"
                                                                                    features="*" />
                                                                                <findreplace
                                                                                    jcr:primaryType="nt:unstructured"
                                                                                    features="*" />
                                                                                <subsuperscript
                                                                                    jcr:primaryType="nt:unstructured"
                                                                                    features="*" />
                                                                                <spellcheck
                                                                                    jcr:primaryType="nt:unstructured"
                                                                                    features="*" />
                                                                                <misctools
                                                                                    jcr:primaryType="nt:unstructured"
                                                                                    features="*">
                                                                                    <specialCharsConfig jcr:primaryType="nt:unstructured">
                                                                                        <chars jcr:primaryType="nt:unstructured">
                                                                                            <copyright
                                                                                                jcr:primaryType="nt:unstructured"
                                                                                                entity="&amp;#169;" />
                                                                                            <trademark
                                                                                                jcr:primaryType="nt:unstructured"
                                                                                                entity="&amp;#8482;" />
                                                                                            <registered
                                                                                                jcr:primaryType="nt:unstructured"
                                                                                                entity="&amp;#174;" />
                                                                                            <emDash
                                                                                                jcr:primaryType="nt:unstructured"
                                                                                                entity="&amp;#8212;" />
                                                                                            <pound
                                                                                                jcr:primaryType="nt:unstructured"
                                                                                                entity="&amp;#163;" />
                                                                                            <nbsp
                                                                                                jcr:primaryType="nt:unstructured"
                                                                                                entity="&amp;#160;" />
                                                                                        </chars>
                                                                                    </specialCharsConfig>
                                                                                </misctools>
                                                                                <styles
                                                                                    jcr:primaryType="nt:unstructured"
                                                                                    features="*">
                                                                                    <styles jcr:primaryType="nt:unstructured">
                                                                                        <plainSpan
                                                                                            jcr:primaryType="nt:unstructured"
                                                                                            cssName="defaultSpan"
                                                                                            text="Default (add span tag)" />
                                                                                        <lead
                                                                                            jcr:primaryType="nt:unstructured"
                                                                                            cssName="lead"
                                                                                            text="Lead" />
                                                                                    </styles>
                                                                                </styles>
                                                                                <table
                                                                                    jcr:primaryType="nt:unstructured"
                                                                                    features="*" />
                                                                            </rtePlugins>
                                                                            <uiSettings jcr:primaryType="nt:unstructured">
                                                                                <cui jcr:primaryType="nt:unstructured">
                                                                                    <inline
                                                                                        jcr:primaryType="nt:unstructured"
                                                                                        toolbar="[format#bold,format#italic,format#underline,#justify,#lists,subsuperscript#subscript,subsuperscript#superscript,links#modifylink,links#unlink,links#anchor,#image,findreplace#find,findreplace#replace,spellcheck#checktext,misctools#specialchars,misctools#sourceedit,#styles,#paraformat,table#table]">
                                                                                        <popovers jcr:primaryType="nt:unstructured">
                                                                                            <justify
                                                                                                jcr:primaryType="nt:unstructured"
                                                                                                items="[justify#justifyleft,justify#justifycenter,justify#justifyright]"
                                                                                                ref="justify" />
                                                                                            <lists
                                                                                                jcr:primaryType="nt:unstructured"
                                                                                                items="[lists#unordered,lists#ordered,lists#outdent,lists#indent]"
                                                                                                ref="lists" />
                                                                                            <paraformat
                                                                                                jcr:primaryType="nt:unstructured"
                                                                                                items="paraformat:getFormats:paraformat-pulldown"
                                                                                                ref="paraformat" />
                                                                                            <styles
                                                                                                jcr:primaryType="nt:unstructured"
                                                                                                items="styles:getStyles:styles-pulldown"
                                                                                                ref="styles" />
                                                                                        </popovers>
                                                                                    </inline>
                                                                                    <dialogFullScreen
                                                                                        jcr:primaryType="nt:unstructured"
                                                                                        toolbar="[format#bold,format#italic,format#underline,#justify,#lists,subsuperscript#subscript,subsuperscript#superscript,links#modifylink,links#unlink,links#anchor,#image,findreplace#find,findreplace#replace,spellcheck#checktext,misctools#specialchars,misctools#sourceedit,#styles,#paraformat,table#table]">
                                                                                        <popovers jcr:primaryType="nt:unstructured">
                                                                                            <paraformat
                                                                                                jcr:primaryType="nt:unstructured"
                                                                                                items="paraformat:getFormats:paraformat-pulldown"
                                                                                                ref="paraformat" />
                                                                                        </popovers>
                                                                                    </dialogFullScreen>
                                                                                    <tableEditOptions
                                                                                        jcr:primaryType="nt:unstructured"
                                                                                        toolbar="[table#insertcolumn-before,table#insertcolumn-after,table#removecolumn,-,table#insertrow-before,table#insertrow-after,table#removerow,-,table#mergecells-right,table#mergecells-down,table#mergecells,table#splitcell-horizontal,table#splitcell-vertical,-,table#selectrow,table#selectcolumn,-,table#ensureparagraph,-,table#modifytableandcell,table#removetable,-,undo#undo,undo#redo,-,table#exitTableEditing,-]" />
                                                                                </cui>
                                                                            </uiSettings>
                                                                        </articleTeaser>
                                                                        <image
                                                                            jcr:primaryType="nt:unstructured"
                                                                            sling:resourceType="cq/gui/components/authoring/dialog/fileupload"
                                                                            allowUpload="{Boolean}false"
                                                                            autoStart="{Boolean}false"
                                                                            class="cq-droptarget"
                                                                            fieldDescription="Pick an image for this article."
                                                                            fieldLabel="Picture"
                                                                            fileNameParameter="./fileName"
                                                                            fileReferenceParameter="./image"
                                                                            mimeTypes="[image/gif,image/jpeg,image/png,image/tiff,image/svg+xml]"
                                                                            multiple="{Boolean}false"
                                                                            name="./file"
                                                                            title="Upload Item Image"
                                                                            uploadUrl="${suffix.path}"
                                                                            useHTML5="{Boolean}true" />
                                                                        <imageDetails
                                                                            jcr:primaryType="nt:unstructured"
                                                                            sling:resourceType="granite/ui/components/coral/foundation/form/textfield"
                                                                            fieldDescription="Add Image description"
                                                                            fieldLabel="Image description"
                                                                            name="./category"
                                                                            required="true" />
                                                                        <articleLink
                                                                            jcr:primaryType="nt:unstructured"
                                                                            sling:resourceType="granite/ui/components/coral/foundation/form/pathfield"
                                                                            fieldDescription="Add Article Link"
                                                                            fieldLabel="Article Link"
                                                                            rootPath="/content"
                                                                            name="./path" />
                                                                    </items>
                                                                </column>
                                                            </items>
                                                        </field>
                                                    </multi>
                                                </items>
                                                <granite:data
                                                        jcr:primaryType="nt:unstructured"
                                                        showhidetargetvalue="manually"/>
                                            </manually>
                                            <automatically
                                                    granite:class="articles-showhide-target"
                                                    jcr:primaryType="nt:unstructured"
                                                    sling:resourceType="granite/ui/components/coral/foundation/container">
                                                <items jcr:primaryType="nt:unstructured">
                                                    <maxArticles
                                                            jcr:primaryType="nt:unstructured"
                                                            sling:resourceType="granite/ui/components/coral/foundation/form/numberfield"
                                                            fieldDescription="Choose the maximum number of articles that will be displayed"
                                                            fieldLabel="Max articles"
                                                            defaultValue="1"
                                                            max="{Long}40"
                                                            min="{Long}1"
                                                            value="1"
                                                            required="{Boolean}true"
                                                            name="./maxArticles"/>
                                                    <filePath
                                                            jcr:primaryType="nt:unstructured"
                                                            sling:resourceType="granite/ui/components/coral/foundation/form/pathfield"
                                                            fieldDescription="Please select the parent of the articles you want to include"
                                                            fieldLabel="Path of the articles"
                                                            required="{Boolean}true"
                                                            rootPath="/content"
                                                            name="./filePath" />
                                                    <teaserType
                                                            granite:class="cq-dialog-dropdown-showhide"
                                                            jcr:primaryType="nt:unstructured"
                                                            sling:resourceType="granite/ui/components/coral/foundation/form/select"
                                                            fieldDescription="Choose the source of the teaser text."
                                                            fieldLabel="Teaser Text Source"
                                                            name="./teaserType">
                                                        <items jcr:primaryType="nt:unstructured">
                                                            <artiText
                                                                    jcr:primaryType="nt:unstructured"
                                                                    text="Article Text"
                                                                    value="artiText"/>                                                        
                                                            <teaserText
                                                                    jcr:primaryType="nt:unstructured"
                                                                    text="Article Teaser"
                                                                    value="artiTeaser"/>
                                                        </items>
                                                        <granite:data
                                                                jcr:primaryType="nt:unstructured"
                                                                cq-dialog-dropdown-showhide-target=".teaser-showhide-target"/>
                                                    </teaserType>
                                                    <teaserTextMax
                                                            granite:class="teaser-showhide-target"
                                                            jcr:primaryType="nt:unstructured"
                                                            sling:resourceType="granite/ui/components/coral/foundation/container">
                                                        <items jcr:primaryType="nt:unstructured">
                                                            <maxTeaserText
                                                                    jcr:primaryType="nt:unstructured"
                                                                    sling:resourceType="granite/ui/components/coral/foundation/form/numberfield"
                                                                    fieldDescription="Decreases the characters limit."
                                                                    fieldLabel="Characters Limit"
                                                                    defaultValue="1000"
                                                                    max="{Long}1000"
                                                                    min="{Long}1"
                                                                    value="1000"
                                                                    name="./maxTeaserText"/>
                                                        </items>
                                                        <granite:data
                                                            jcr:primaryType="nt:unstructured"
                                                            showhidetargetvalue="artiText"/>                                                        
                                                    </teaserTextMax>
                                                    <multi
                                                            jcr:primaryType="nt:unstructured"
                                                            sling:resourceType="granite/ui/components/coral/foundation/form/multifield"
                                                            composite="{Boolean}true"
                                                            fieldLabel="Edit Articles"
                                                            fieldDescription="Enables modifying the link text and link of one or more articles from the loaded article list.">
                                                        <field
                                                                jcr:primaryType="nt:unstructured"
                                                                sling:resourceType="granite/ui/components/coral/foundation/container"
                                                                name="./customAutoArti">
                                                            <items jcr:primaryType="nt:unstructured">
                                                                <column
                                                                        jcr:primaryType="nt:unstructured"
                                                                        sling:resourceType="granite/ui/components/coral/foundation/container">
                                                                    <items jcr:primaryType="nt:unstructured">
                                                                        <articlePath
                                                                            jcr:primaryType="nt:unstructured"
                                                                            sling:resourceType="granite/ui/components/coral/foundation/form/pathfield"
                                                                            fieldDescription="Select the article to be customized."
                                                                            fieldLabel="Article Path"
                                                                            rootPath="/content/techem"
                                                                            required="{Boolean}true"
                                                                            name="./path" />
                                                                        <autoCustomURL
                                                                            jcr:primaryType="nt:unstructured"
                                                                            sling:resourceType="granite/ui/components/coral/foundation/form/textfield"
                                                                            fieldDescription="Change Article Link"
                                                                            fieldLabel="Article URL"
                                                                            name="./customURL"
                                                                            required="{Boolean}true" />
                                                                        <autoCustomURLText
                                                                            jcr:primaryType="nt:unstructured"
                                                                            sling:resourceType="granite/ui/components/coral/foundation/form/textfield"
                                                                            fieldDescription="Change Link Text"
                                                                            fieldLabel="Link Text"
                                                                            name="./category"
                                                                            required="{Boolean}true" />
                                                                    </items>
                                                                </column>
                                                            </items>
                                                        </field>
                                                    </multi>
                                                    <filteringTags
                                                            jcr:primaryType="nt:unstructured"
                                                            sling:resourceType="cq/gui/components/coral/common/form/tagfield"
                                                            fieldDescription="Filter the articles by the selected tags"
                                                            fieldLabel="Filter articles for tags"
                                                            name="./filteringTags"
                                                            multiple="true"
                                                            allowBulkEdit="true"
                                                            autocreateTag="true"
                                                            required="{Boolean}true"/>
                                                    <orderBy
                                                        granite:class="cq-dialog-dropdown"
                                                        jcr:primaryType="nt:unstructured"
                                                        sling:resourceType="granite/ui/components/coral/foundation/form/select"
                                                        fieldDescription="Order List By"
                                                        fieldLabel="Order By"
                                                        name="./orderBy">
                                                        <items jcr:primaryType="nt:unstructured">
                                                            <dateArticle
                                                                    jcr:primaryType="nt:unstructured"
                                                                    text="Article Date"
                                                                    value="dateArticle"
                                                                    selected="{Boolean}true"/>
                                                            <dateModified
                                                                    jcr:primaryType="nt:unstructured"
                                                                    text="Last Modified Date"
                                                                    value="dateModified"/>
                                                            <dateCreation
                                                                    jcr:primaryType="nt:unstructured"
                                                                    text="Creation Date"
                                                                    value="dateCreation"/>
                                                            <artiTitle
                                                                    jcr:primaryType="nt:unstructured"
                                                                    text="Title"
                                                                    value="artiTitle"/>
                                                             <artiCategory
                                                                    jcr:primaryType="nt:unstructured"
                                                                    text="Category"
                                                                    value="artiCategory"/>                                                             
                                                        </items>
                                                    </orderBy>
                                                    <sortOrder
                                                        granite:class="cq-dialog-dropdown"
                                                        jcr:primaryType="nt:unstructured"
                                                        sling:resourceType="granite/ui/components/coral/foundation/form/select"
                                                        fieldDescription="The order of the items."
                                                        fieldLabel="Sort Order"
                                                        name="./sortOrder">
                                                        <items jcr:primaryType="nt:unstructured">
                                                            <ascending
                                                                    jcr:primaryType="nt:unstructured"
                                                                    text="Ascending"
                                                                    value="ascending"/>
                                                            <descending
                                                                    jcr:primaryType="nt:unstructured"
                                                                    text="Descending"
                                                                    value="descending"/>
                                                        </items>
                                                    </sortOrder>
                                                </items>
                                                <granite:data
                                                    jcr:primaryType="nt:unstructured"
                                                    showhidetargetvalue="automatically"/>
                                            </automatically>
                                        </items>
                                    </column>
                                </items>
                            </columns>
                        </items>
                    </container>
                </items>
            </tabs>
        </items>
    </content>
</jcr:root>